{"ast":null,"code":"import classNames from'classnames';import{Status}from'../types/Status';import{deleteTodo}from'../api/todos';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export const TodosFilter=_ref=>{let{todos,setTodos,status,setStatus,setErrorMessage}=_ref;const notCompletedTodos=todos.filter(todo=>!todo.completed).length;const hasCompleted=todos.some(todo=>todo.completed);const clearCompleted=()=>{todos.filter(todo=>todo.completed).map(todo=>todo.id).forEach(item=>{deleteTodo(item).catch(()=>{setErrorMessage('Unable to delete a todo');});});const newTodos=todos.filter(todo=>!todo.completed);setTodos(newTodos);};return/*#__PURE__*/_jsxs(\"footer\",{className:\"todoapp__footer\",\"data-cy\":\"Footer\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"todo-count\",\"data-cy\":\"TodosCounter\",children:[notCompletedTodos,' ',\"items left\"]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"filter\",\"data-cy\":\"Filter\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#/\",\"data-cy\":\"FilterLinkAll\",className:classNames('filter__link',{selected:status===Status.all}),onClick:()=>setStatus(Status.all),children:Status.all}),/*#__PURE__*/_jsx(\"a\",{href:\"#/active\",\"data-cy\":\"FilterLinkActive\",className:classNames('filter__link',{selected:status===Status.active}),onClick:()=>setStatus(Status.active),children:Status.active}),/*#__PURE__*/_jsx(\"a\",{href:\"#/completed\",\"data-cy\":\"FilterLinkCompleted\",className:classNames('filter__link',{selected:status===Status.completed}),onClick:()=>setStatus(Status.completed),children:Status.completed})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"data-cy\":\"ClearCompletedButton\",className:\"todoapp__clear-completed\",onClick:clearCompleted,disabled:!hasCompleted,children:\"Clear completed\"})]});};","map":{"version":3,"names":["classNames","Status","deleteTodo","jsxs","_jsxs","jsx","_jsx","TodosFilter","_ref","todos","setTodos","status","setStatus","setErrorMessage","notCompletedTodos","filter","todo","completed","length","hasCompleted","some","clearCompleted","map","id","forEach","item","catch","newTodos","className","children","href","selected","all","onClick","active","type","disabled"],"sources":["/Users/admin/Projects/TODO-app/src/components/TodoFilter.tsx"],"sourcesContent":["import classNames from 'classnames';\nimport { Dispatch, SetStateAction } from 'react';\nimport { Todo } from '../types/Todo';\nimport { Status } from '../types/Status';\nimport { deleteTodo } from '../api/todos';\n\ntype Props = {\n  todos: Todo[],\n  setTodos: Dispatch<SetStateAction<Todo[]>>,\n  status: Status,\n  setStatus: Dispatch<SetStateAction<Status>>,\n  setErrorMessage: Dispatch<SetStateAction<string>>,\n};\n\nexport const TodosFilter: React.FC<Props> = ({\n  todos,\n  setTodos,\n  status,\n  setStatus,\n  setErrorMessage,\n}) => {\n  const notCompletedTodos = todos.filter(todo => !todo.completed).length;\n\n  const hasCompleted = todos.some(todo => todo.completed);\n\n  const clearCompleted = () => {\n    todos.filter(todo => todo.completed)\n      .map(todo => todo.id)\n      .forEach(item => {\n        deleteTodo(item)\n          .catch(() => {\n            setErrorMessage('Unable to delete a todo');\n          });\n      });\n\n    const newTodos = todos.filter(todo => !todo.completed);\n\n    setTodos(newTodos);\n  };\n\n  return (\n    <footer\n      className=\"todoapp__footer\"\n      data-cy=\"Footer\"\n    >\n      <span className=\"todo-count\" data-cy=\"TodosCounter\">\n        {notCompletedTodos}\n        {' '}\n        items left\n      </span>\n\n      <nav className=\"filter\" data-cy=\"Filter\">\n\n        <a\n          href=\"#/\"\n          data-cy=\"FilterLinkAll\"\n          className={classNames('filter__link', {\n            selected: status === Status.all,\n          })}\n          onClick={() => setStatus(Status.all)}\n        >\n          {Status.all}\n        </a>\n\n        <a\n          href=\"#/active\"\n          data-cy=\"FilterLinkActive\"\n          className={classNames('filter__link', {\n            selected: status === Status.active,\n          })}\n          onClick={() => setStatus(Status.active)}\n        >\n          {Status.active}\n        </a>\n\n        <a\n          href=\"#/completed\"\n          data-cy=\"FilterLinkCompleted\"\n          className={classNames('filter__link', {\n            selected: status === Status.completed,\n          })}\n          onClick={() => setStatus(Status.completed)}\n        >\n          {Status.completed}\n        </a>\n\n      </nav>\n\n      <button\n        type=\"button\"\n        data-cy=\"ClearCompletedButton\"\n        className=\"todoapp__clear-completed\"\n        onClick={clearCompleted}\n        disabled={!hasCompleted}\n      >\n        Clear completed\n      </button>\n\n    </footer>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}